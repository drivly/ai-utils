# Testing the AI SDK Provider

This directory contains tests for the AI SDK Provider library. The tests are designed to verify the correctness of various components of the library, including model selection, parsing model identifiers, and text generation.

## Test Structure

- `modelSelector.test.ts`: Tests for the model selection functionality in `modelSelector.ts`
- `parser.test.ts`: Tests for the parsing and formatting of model identifiers in `parser.ts`
- `demo.test.ts`: Tests for the text generation capabilities demonstrated in `demo.ts`
- `integration.test.ts`: Tests that demonstrate how different parts of the library work together

## Running Tests

You can run the tests using the following commands:

```bash
# Install dependencies if not already installed
pnpm install

# Run all tests once
pnpm test

# Run tests in watch mode (during development)
pnpm test:watch
```

## Linting Errors

If you see TypeScript linting errors when running tests, you may need to install Vitest:

```bash
pnpm add -D vitest
```

The current tests use mocks extensively to avoid making actual API calls. This allows the tests to run quickly and reliably without requiring API keys or network connections.

## Adding New Tests

When adding new tests:

1. Create a new `*.test.ts` file for the component you want to test
2. Import the necessary modules and mock any external dependencies
3. Write test cases that verify the expected behavior of the component
4. Make sure to clean up any mocks after each test (usually in `afterEach`)

## Coverage

Test coverage reports can be generated by adding the `--coverage` flag:

```bash
pnpm test -- --coverage
```

This will generate a coverage report in the `coverage` directory. 